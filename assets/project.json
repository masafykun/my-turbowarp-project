{"targets":[{"isStage":true,"name":"Stage","variables":{},"lists":{},"broadcasts":{},"blocks":{},"comments":{},"currentCostume":0,"costumes":[{"name":"背景1","bitmapResolution":1,"dataFormat":"svg","assetId":"314f2e68b42d13578bfccf639ef12bfb","md5ext":"314f2e68b42d13578bfccf639ef12bfb.svg","rotationCenterX":309.1171975,"rotationCenterY":193.18560625726667}],"sounds":[],"volume":100,"layerOrder":0,"tempo":60,"videoTransparency":50,"videoState":"on","textToSpeechLanguage":null},{"isStage":false,"name":"MASAFY-BOT","variables":{},"lists":{},"broadcasts":{},"blocks":{"e":{"opcode":"event_whenthisspriteclicked","next":"a","parent":null,"inputs":{},"fields":{},"topLevel":true},"f":{"opcode":"event_whenflagclicked","next":"g","parent":null,"inputs":{},"fields":{},"topLevel":true},"g":{"opcode":"looks_say","next":null,"parent":"f","inputs":{"MESSAGE":[1,[10,"タッチして僕とおしゃべりしよう！"]]},"fields":{}},"a":{"opcode":"sensing_askandwait","next":"b","parent":"e","inputs":{"QUESTION":[1,[10,"話したい内容を教えてね"]]},"fields":{}},"h":{"opcode":"sensing_answer","next":null,"parent":"c","inputs":{},"fields":{}},"d":{"opcode":"looks_say","next":null,"parent":"b","inputs":{"MESSAGE":[3,"c",[10,"こんにちは!"]]},"fields":{}},"b":{"opcode":"looks_say","next":"d","parent":"a","inputs":{"MESSAGE":[1,[10,"考え中.."]]},"fields":{}},"c":{"opcode":"chatgpt_askGPT","next":null,"parent":"d","inputs":{"TEXT":[3,"h",[10,"こんにちは！"]]},"fields":{}}},"comments":{},"currentCostume":0,"costumes":[{"name":"ChatGPT Image 2025年4月19日 21_53_02","bitmapResolution":2,"dataFormat":"png","assetId":"b620e42f90e8b5ed9628180e6e4d677c","md5ext":"b620e42f90e8b5ed9628180e6e4d677c.png","rotationCenterX":360,"rotationCenterY":360}],"sounds":[],"volume":100,"layerOrder":1,"visible":true,"x":-118,"y":-8,"size":50,"direction":-90,"draggable":false,"rotationStyle":"left-right"}],"monitors":[],"extensions":["chatgpt"],"extensionURLs":{"chatgpt":"data:application/javascript,class%20ChatGPTExtension%20%7B%0A%20%20getInfo()%20%7B%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20id%3A%20%22chatgpt%22%2C%0A%20%20%20%20%20%20name%3A%20%22ChatGPT%22%2C%0A%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22askGPT%22%2C%0A%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20text%3A%20%22ChatGPT%E3%81%AB%5BTEXT%5D%E3%81%A8%E8%81%9E%E3%81%8F%22%2C%0A%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20TEXT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%E3%81%93%E3%82%93%E3%81%AB%E3%81%A1%E3%81%AF%EF%BC%81%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%7D%3B%0A%20%20%7D%0A%0A%20%20async%20askGPT(args)%20%7B%0A%20%20%20%20let%20res%3B%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20res%20%3D%20await%20fetch(%22https%3A%2F%2Fscratch-bot.masafy.org%2Fchat%22%2C%20%7B%0A%20%20%20%20%20%20%20%20method%3A%20%22POST%22%2C%0A%20%20%20%20%20%20%20%20headers%3A%20%7B%20%22Content-Type%22%3A%20%22application%2Fjson%22%20%7D%2C%0A%20%20%20%20%20%20%20%20body%3A%20JSON.stringify(%7B%20prompt%3A%20args.TEXT%20%7D)%2C%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%20catch%20(e)%20%7B%0A%20%20%20%20%20%20return%20%22%E9%80%9A%E4%BF%A1%E3%82%A8%E3%83%A9%E3%83%BC%E3%81%8C%E7%99%BA%E7%94%9F%E3%81%97%E3%81%BE%E3%81%97%E3%81%9F%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20429%20%E3%81%AE%E3%81%A8%E3%81%8D%E3%81%A0%E3%81%91%20IP%20%E5%88%B6%E9%99%90%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8%0A%20%20%20%20if%20(res.status%20%3D%3D%3D%20429)%20%7B%0A%20%20%20%20%20%20return%20%22%E4%BB%8A%E6%97%A5%E3%81%AF%E3%81%9F%E3%81%8F%E3%81%95%E3%82%93%E3%81%8A%E8%A9%B1%E3%81%97%E3%81%97%E3%81%9F%E3%81%AD%EF%BC%81%E3%82%82%E3%81%97%E3%82%82%E3%81%A3%E3%81%A8%E8%A9%B1%E3%81%97%E3%81%9F%E3%81%8B%E3%81%A3%E3%81%9F%E3%82%89%E3%83%9E%E3%82%B5%E3%83%95%E3%82%A3%E3%83%BC%E3%81%AB%E8%81%9E%E3%81%84%E3%81%A6%E3%81%BF%E3%81%A6%EF%BC%81%22%3B%0A%20%20%20%20%7D%0A%20%20%20%20%2F%2F%20%E3%81%9D%E3%81%AE%E4%BB%96%E3%82%A8%E3%83%A9%E3%83%BC%0A%20%20%20%20if%20(!res.ok)%20%7B%0A%20%20%20%20%20%20return%20%60%E3%82%A8%E3%83%A9%E3%83%BC%3A%20%24%7Bres.status%7D%60%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20%E6%AD%A3%E5%B8%B8%E3%83%AC%E3%82%B9%E3%83%9D%E3%83%B3%E3%82%B9%0A%20%20%20%20let%20data%3B%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20data%20%3D%20await%20res.json()%3B%0A%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20return%20%22%E3%83%AC%E3%82%B9%E3%83%9D%E3%83%B3%E3%82%B9%E3%81%AE%E8%A7%A3%E6%9E%90%E3%81%AB%E5%A4%B1%E6%95%97%E3%81%97%E3%81%BE%E3%81%97%E3%81%9F%22%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20data.response%20%7C%7C%20%22%E3%82%A8%E3%83%A9%E3%83%BC%E3%81%8C%E7%99%BA%E7%94%9F%E3%81%97%E3%81%BE%E3%81%97%E3%81%9F%22%3B%0A%20%20%7D%0A%7D%0A%0AScratch.extensions.register(new%20ChatGPTExtension())%3B%0A"},"meta":{"semver":"3.0.0","platform":{"name":"TurboWarp","url":"https://turbowarp.org/"}}}